{"version":3,"sources":["assets/styles/ShowcaseCard.module.scss","utils/categories.js","components/CategoryFilter.js","components/ImageLightbox.js","components/ShowcaseCard.js","utils/getImagePathArr.js","containers/Projects.js","pages/Portfolio.js","components/shared/SkeletonPlaceholder.js","utils/cachedFetchHook.js"],"names":["module","exports","PROJECT_CATEGORIES","CategoryFilter","filter","setFilter","className","onClick","map","category","ImageLightbox","images","setLightboxOpen","React","useState","imageIndex","setImageIndex","mainSrc","nextSrc","length","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","enableZoom","ShowcaseCard","id","title","tags","link","desc","date","isTeam","isWork","isLightboxOpen","Fragment","styles","showcaseCard","imgWrapper","top","width","src","alt","showcaseBody","href","target","rel","icon","placement","description","innerClassName","tooltip","autohide","tag","badge","color","pill","defaultProps","getImagePathArr","imageName","extension","count","i","arr","push","Projects","PLACEHOLDERS","Array","fill","useCachedFetch","config","API_ENDPOINT","CACHE_TOGGLE","loading","data","error","console","log","projectData","filtered","_","d","includes","PRE_RENDERING","index","SkeletonPlaceholder","rows","ready","portfolio","isEmpty","typeName","img","namePrefix","url","Portfolio","animationIn","animationInDelay","fluid","CustomPlaceholder","style","height","marginBottom","showLoadingAnimation","customPlaceholder","useCache","expiry","CACHE_EXPIRY_HOURS","initialState","useReducer","state","action","type","payload","dispatch","useEffect","cancelRequest","fetchData","a","cached","localStorage","getItem","ts","Date","now","JSON","parse","removeItem","fetch","response","json","setItem","stringify","message"],"mappings":"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","file":"static/js/7.0f31f7f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"showcaseCard\":\"ShowcaseCard_showcaseCard__OH4rX\",\"imgWrapper\":\"ShowcaseCard_imgWrapper__107kH\",\"badge\":\"ShowcaseCard_badge__2F2IR\",\"title\":\"ShowcaseCard_title__2VnuQ\",\"date\":\"ShowcaseCard_date__3h07w\",\"icon\":\"ShowcaseCard_icon__315JN\",\"showcaseBody\":\"ShowcaseCard_showcaseBody__1FKWP\",\"description\":\"ShowcaseCard_description__1grIc\",\"tags\":\"ShowcaseCard_tags__1l5lu\",\"tooltip\":\"ShowcaseCard_tooltip__19Cvo\"};","export const PROJECT_CATEGORIES = [\"React\", \"JQuery\", \"Django\", \"NodeJS\", \"Unity\", \"Ionic\"];\r\n","import React from \"react\";\r\nimport { PROJECT_CATEGORIES } from \"../utils/categories\";\r\n\r\nfunction CategoryFilter({ filter, setFilter }) {\r\n  return (\r\n    <div className=\"categoryFilter\">\r\n      <button\r\n        className={`btn-filter ${filter === \"All\" ? \"active\" : \"\"}`}\r\n        onClick={() => setFilter(\"All\")}\r\n      >\r\n        All\r\n      </button>\r\n      {PROJECT_CATEGORIES.map((category) => (\r\n        <button\r\n          key={category}\r\n          className={`btn-filter ${filter === category ? \"active\" : \"\"}`}\r\n          onClick={() => setFilter(category)}\r\n        >\r\n          {category}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoryFilter;\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport Lightbox from \"react-image-lightbox\";\r\n\r\nconst ImageLightbox = ({ images, setLightboxOpen }) => {\r\n  const [imageIndex, setImageIndex] = React.useState(0);\r\n\r\n  return (\r\n    <Lightbox\r\n      mainSrc={images[imageIndex]}\r\n      nextSrc={images[(imageIndex + 1) % images.length]}\r\n      prevSrc={images[(imageIndex + images.length - 1) % images.length]}\r\n      onCloseRequest={() => setLightboxOpen(false)}\r\n      onMovePrevRequest={() => setImageIndex((imageIndex + images.length - 1) % images.length)}\r\n      onMoveNextRequest={() => setImageIndex((imageIndex + 1) % images.length)}\r\n      enableZoom={false}\r\n    />\r\n  );\r\n};\r\n\r\nImageLightbox.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n  setLightboxOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageLightbox;\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { Badge, Card, CardBody, CardImg, CardTitle, UncontrolledTooltip } from \"reactstrap\";\r\nimport styles from \"../assets/styles/ShowcaseCard.module.scss\";\r\nimport ImageLightbox from \"./ImageLightbox\";\r\n\r\nconst ShowcaseCard = ({ id, title, tags, images, link, desc, date, isTeam, isWork }) => {\r\n  const [isLightboxOpen, setLightboxOpen] = React.useState(false);\r\n  return (\r\n    images &&\r\n    images.length > 0 && (\r\n      <React.Fragment>\r\n        <Card className={styles.showcaseCard}>\r\n          <div\r\n            className={styles.imgWrapper}\r\n            onClick={() => {\r\n              setLightboxOpen(true);\r\n            }}\r\n          >\r\n            <CardImg top width=\"100%\" src={images[0]} alt={title} />\r\n          </div>\r\n          <CardBody className={styles.showcaseBody}>\r\n            <CardTitle className={styles.title}>\r\n              {link ? (\r\n                <a href={link} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  <h4>{title}</h4>\r\n                </a>\r\n              ) : (\r\n                <h4>{title}</h4>\r\n              )}\r\n            </CardTitle>\r\n            <div>\r\n              <span className={styles.date}>{date}</span>\r\n              {isTeam ? (\r\n                <>\r\n                  <span id={`team-${id}`}>\r\n                    <span\r\n                      className={`${styles.icon} iconify`}\r\n                      data-icon=\"fluent:people-team-16-filled\"\r\n                    ></span>\r\n                  </span>\r\n                  <UncontrolledTooltip placement=\"top\" target={`team-${id}`}>\r\n                    Team Work\r\n                  </UncontrolledTooltip>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <span id={`individual-${id}`}>\r\n                    <span className={`${styles.icon} iconify`} data-icon=\"bi:person-fill\"></span>\r\n                  </span>\r\n                  <UncontrolledTooltip placement=\"top\" target={`individual-${id}`}>\r\n                    Individual Work\r\n                  </UncontrolledTooltip>\r\n                </>\r\n              )}\r\n              {isWork && (\r\n                <>\r\n                  <span id={`work-${id}`}>\r\n                    <span className={`${styles.icon} iconify`} data-icon=\"ic:baseline-work\"></span>\r\n                  </span>\r\n                  <UncontrolledTooltip placement=\"top\" target={`work-${id}`}>\r\n                    Work for organisation\r\n                  </UncontrolledTooltip>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div id={`desc-${id}`} className={styles.description}>\r\n              {desc}\r\n            </div>\r\n            <UncontrolledTooltip\r\n              innerClassName={styles.tooltip}\r\n              placement=\"bottom\"\r\n              target={`desc-${id}`}\r\n              autohide={false}\r\n            >\r\n              {desc}\r\n            </UncontrolledTooltip>\r\n            <div className={styles.tags}>\r\n              {tags &&\r\n                tags.map((tag) => (\r\n                  <Badge key={tag} className={styles.badge} color=\"light\" pill>\r\n                    {tag}\r\n                  </Badge>\r\n                ))}\r\n            </div>\r\n          </CardBody>\r\n        </Card>\r\n\r\n        {isLightboxOpen && <ImageLightbox images={images} setLightboxOpen={setLightboxOpen} />}\r\n      </React.Fragment>\r\n    )\r\n  );\r\n};\r\n\r\nShowcaseCard.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  tags: PropTypes.arrayOf(PropTypes.string),\r\n  images: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n  link: PropTypes.string,\r\n  desc: PropTypes.string,\r\n  date: PropTypes.string,\r\n};\r\n\r\nShowcaseCard.defaultProps = {\r\n  tags: [],\r\n  link: null,\r\n  desc: \"\",\r\n  date: \"\",\r\n};\r\n\r\nexport default ShowcaseCard;\r\n","const getImagePathArr = (imageName, extension, count) => {\r\n  let arr = [];\r\n  let i;\r\n  for (i = 1; i <= count; i++) {\r\n    arr.push(process.env.PUBLIC_URL + \"/img/\" + imageName + i + \".\" + extension);\r\n  }\r\n  return arr;\r\n};\r\n\r\nexport default getImagePathArr;\r\n","import _ from \"lodash\";\r\nimport React from \"react\";\r\nimport FlipMove from \"react-flip-move\";\r\nimport { Row } from \"reactstrap\";\r\nimport CategoryFilter from \"../components/CategoryFilter\";\r\nimport SkeletonPlaceholder from \"../components/shared/SkeletonPlaceholder\";\r\nimport ShowcaseCard from \"../components/ShowcaseCard\";\r\nimport config from \"../config\";\r\nimport projectData from \"../data/projects.json\";\r\nimport { useCachedFetch } from \"../utils/cachedFetchHook\";\r\nimport getImagePathArr from \"../utils/getImagePathArr\";\r\n\r\nconst Projects = () => {\r\n  const PLACEHOLDERS = Array(8).fill(0);\r\n  const [filter, setFilter] = React.useState(\"All\");\r\n\r\n  let { loading, data, error } = useCachedFetch(\r\n    `${config.API_ENDPOINT}/projects`,\r\n    config.CACHE_TOGGLE\r\n  );\r\n\r\n  if (error) {\r\n    console.log(error);\r\n    console.log(\"Loading static data as fallback...\");\r\n    data = projectData;\r\n  }\r\n\r\n  const filtered = filter === \"All\" ? data : _.filter(data, (d) => d.tags.includes(filter));\r\n\r\n  return (\r\n    <Row>\r\n      <CategoryFilter filter={filter} setFilter={setFilter} />\r\n      {loading || config.PRE_RENDERING ? (\r\n        PLACEHOLDERS.map((_, index) => (\r\n          <div key={index} className=\"project-showcase-col mb-5 mb-md-4\">\r\n            <SkeletonPlaceholder rows={8} ready={!loading && !config.PRE_RENDERING} portfolio />\r\n          </div>\r\n        ))\r\n      ) : !_.isEmpty(data) ? (\r\n        <FlipMove typeName={null}>\r\n          {filtered.map((d) => (\r\n            <div key={d.id} className=\"project-showcase-col mb-4 mb-md-0\">\r\n              <ShowcaseCard\r\n                id={d.id}\r\n                title={d.title}\r\n                images={getImagePathArr(d.img.namePrefix, d.img.extension, d.img.count)}\r\n                tags={d.tags}\r\n                link={d.url}\r\n                date={d.date}\r\n                desc={d.desc}\r\n                isTeam={d.isTeam}\r\n                isWork={d.isWork}\r\n              />\r\n            </div>\r\n          ))}\r\n        </FlipMove>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default Projects;\r\n","import React from \"react\";\r\nimport { Animated } from \"react-animated-css\";\r\nimport { Container } from \"reactstrap\";\r\nimport Projects from \"../containers/Projects\";\r\n\r\nconst Portfolio = () => (\r\n  <>\r\n    <Animated className=\"mb-2\" animationIn=\"fadeIn\" animationInDelay={50}>\r\n      <Container fluid className=\"pad-top\">\r\n        <div className=\"section-title\">\r\n          <h2>Portfolio</h2>\r\n          <p>Explore my projects and applications I've built with various technologies</p>\r\n        </div>\r\n        <Projects />\r\n      </Container>\r\n    </Animated>\r\n  </>\r\n);\r\n\r\nexport default Portfolio;\r\n","import React from \"react\";\r\nimport ReactPlaceholder from \"react-placeholder\";\r\nimport { RectShape, TextBlock } from \"react-placeholder/lib/placeholders\";\r\n\r\nconst SkeletonPlaceholder = ({ ready, rows, portfolio }) => {\r\n  const CustomPlaceholder = portfolio ? (\r\n    <div>\r\n      <RectShape color=\"#E0E0E0\" style={{ width: \"100%\", height: \"160px\", marginBottom: \"10px\" }} />\r\n      <TextBlock color=\"#E0E0E0\" rows={rows} />\r\n    </div>\r\n  ) : (\r\n    <TextBlock color=\"#E0E0E0\" rows={rows} />\r\n  );\r\n\r\n  return (\r\n    <ReactPlaceholder\r\n      showLoadingAnimation={true}\r\n      ready={ready}\r\n      customPlaceholder={CustomPlaceholder}\r\n    ></ReactPlaceholder>\r\n  );\r\n};\r\n\r\nexport default SkeletonPlaceholder;\r\n","import { useEffect, useReducer } from \"react\";\r\nimport config from \"../config\";\r\n\r\nexport const useCachedFetch = (url, useCache = true) => {\r\n  const expiry = useCache ? config.CACHE_EXPIRY_HOURS * 60 * 60 : 0;\r\n\r\n  const initialState = {\r\n    loading: true,\r\n    error: null,\r\n    data: [],\r\n  };\r\n\r\n  const [state, dispatch] = useReducer((state, action) => {\r\n    switch (action.type) {\r\n      case \"FETCH_SUCCESS\":\r\n        return { ...initialState, loading: false, data: action.payload };\r\n      case \"FETCH_ERROR\":\r\n        return { ...initialState, loading: false, error: action.payload };\r\n      default:\r\n        return state;\r\n    }\r\n  }, initialState);\r\n\r\n  useEffect(() => {\r\n    let cancelRequest = false;\r\n    if (!url) return;\r\n\r\n    const fetchData = async () => {\r\n      let cached = localStorage.getItem(url);\r\n      let ts = localStorage.getItem(url + \":ts\");\r\n\r\n      if (!!cached && !!ts && (Date.now() - ts) / 1000 < expiry) {\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: JSON.parse(cached) });\r\n      } else {\r\n        localStorage.removeItem(url);\r\n        localStorage.removeItem(url + \":ts\");\r\n        try {\r\n          const response = await fetch(url);\r\n          const data = await response.json();\r\n          localStorage.setItem(url, JSON.stringify(data));\r\n          localStorage.setItem(url + \":ts\", Date.now());\r\n          if (cancelRequest) return;\r\n          dispatch({ type: \"FETCH_SUCCESS\", payload: data });\r\n        } catch (error) {\r\n          if (cancelRequest) return;\r\n          dispatch({ type: \"FETCH_ERROR\", payload: error.message });\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return function cleanup() {\r\n      cancelRequest = true;\r\n    };\r\n  }, [expiry, url]);\r\n\r\n  return state;\r\n};\r\n"],"sourceRoot":""}